# JavaScript의 Promise

## Promise란?

Promise는 비동기 작업을 관리하고, 해당 작업의 성공 또는 실패 결과를 나중에 사용할 수 있도록 하는 객체입니다. 비동기 작업의 완료 여부를 "약속"해주는 개념이라고 할 수 있습니다.

## 등장 배경

- JavaScript는 비동기 처리를 위해 콜백 함수를 많이 사용
- 콜백 함수의 중첩으로 인한 "콜백 지옥" 문제 발생
- Promise는 비동기 처리의 가독성을 높이고 코드 흐름을 명확하게 관리

## Promise의 상태

Promise는 3가지 상태를 가집니다:

1. **Pending (대기)**

   - 비동기 작업이 아직 완료되지 않은 초기 상태

2. **Fulfilled (이행)**

   - 비동기 작업이 성공적으로 완료되어 값을 반환한 상태

3. **Rejected (거부)**
   - 비동기 작업이 실패하여 오류를 반환한 상태

## Promise의 동작 방식

### 기본 구조

```javascript
new Promise((resolve, reject) => {
  // 비동기 작업 수행
});
```

### 상태 전환

- `resolve()`: 비동기 작업 성공 시 호출하여 Fulfilled 상태로 전환
- `reject()`: 비동기 작업 실패 시 호출하여 Rejected 상태로 전환

### 특징

- Pending → Fulfilled/Rejected 상태로 전환 후에는 다른 상태로 변경 불가
- 결과 값은 상태 전환 후에만 접근 가능

## Promise의 장점

1. **가독성 향상**

   - 비동기 작업의 흐름을 명확하게 표현
   - 콜백 지옥 문제 해소

2. **유연한 비동기 처리**
   - `Promise.all()`: 여러 Promise를 병렬로 처리
   - `Promise.allSettled()`: 모든 Promise의 결과를 기다림
   - Promise 체이닝을 통한 순차적 처리 가능

## Promise의 단점

### 1. 복잡한 에러 처리

- 단일 체인에서는 간단하지만, 중첩된 Promise에서 에러 처리가 복잡해짐
- 특정 단계의 에러를 세밀하게 처리하기 어려움
- 다양한 에러 상황에 대한 처리가 코드를 복잡하게 만듦

### 2. 콜백 지옥의 완전한 해결 실패

- 복잡한 비동기 작업에서 여전히 `then()` 체인이 길어질 수 있음
- 코드의 들여쓰기 구조가 복잡해질 수 있음
- `async/await`을 통해 개선 가능

## 결론

Promise는 비동기 프로그래밍을 더 효율적으로 만들어주는 중요한 도구입니다. 하지만 복잡한 에러 처리와 여전히 남아있는 콜백 지옥의 가능성이라는 단점도 있습니다. 이러한 단점들은 `async/await`과 같은 최신 JavaScript 기능을 통해 보완할 수 있습니다.
