# 낙관적 업데이트(Optimistic Update)

## 개념

낙관적 업데이트는 서버의 응답을 기다리기 전에 사용자의 요청이 성공할 것이라고 "가정"하고, UI를 즉시 업데이트하는 방법입니다. 사용자의 행동에 바로 피드백을 제공하는 방식입니다.

## 대표적인 예시

- 좋아요 기능
- 북마크 추가/삭제
- 댓글 작성
- 팔로우/언팔로우

## 동작 흐름

1. 사용자가 클릭
2. UI에서 좋아요 상태로 즉시 변경
3. 동시에 서버에 요청 전송
4. 서버 응답에 따른 처리:
   - 서버 응답이 성공 → 그대로 유지
   - 서버 응답이 실패 → 좋아요 상태 롤백 + 오류 메시지 표시

## 장점

### 1. 즉각적인 사용자 반응 제공

- 서버 응답 속도와 상관없이 UI가 반응하므로 사용자 만족도가 높아집니다.

### 2. 느린 네트워크에서도 원활한 UX 유지

- 네트워크 지연에 따른 스트레스를 줄일 수 있습니다.

## 주의할 점

1. **실패 시 롤백 로직 필요**

   - 서버에서 요청이 실패하면, 이미 바뀐 UI를 다시 원래대로 돌려야 합니다.
   - 이를 롤백이라고 하며, 이를 위한 코드도 반드시 함께 설계되어야 합니다.

2. **중요한 데이터에는 신중하게**

   - 결제, 송금, 거래 내역처럼 중대한 정보가 오가는 경우에는 낙관적 업데이트보다 확실한 서버 응답 이후에 UI를 반영하는 방식이 더 적절합니다.

3. **네트워크 불안정 시 역효과**
   - 네트워크 상태가 좋지 않아 실패율이 높다면, 자꾸 롤백이 발생하면서 사용자 경험이 오히려 더 나빠질 수 있습니다.

## 적절한 사용 시기

낙관적 업데이트는 다음과 같은 조건일 때 특히 효과적입니다:

- 서버 요청이 실패할 가능성이 낮고
- 실패하더라도 사용자에게 큰 피해가 없는 경우
- 즉각적인 피드백이 사용성 개선에 큰 영향을 주는 경우

## 결론

낙관적 업데이트는 사용자 경험을 극대화할 수 있는 강력한 무기입니다. 다만, 무작정 적용하기보다는 상황에 따라 신중하게 사용 여부를 결정하는 것이 중요합니다. 빠른 피드백과 안정적인 UX 사이에서 균형을 잘 잡는 것이 필요합니다.
